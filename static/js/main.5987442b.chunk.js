(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){},17:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var c=n(6),o=n.n(c),i=(n(15),n(16),n(17),n(3)),a=n(4),l=n(2),r=n(10),u="SET_TODOS",s="SET_VISIBLE_TODOS",d="SET_COMPLETED_TODOS",j="SET_NEW_TODO",b="SET_ACTIVE_FILTER",p="SET_EDITING_ID",f="SET_INITIAL_TITLE",O=function(t){return{type:u,payload:t}},m=function(t){return{type:s,payload:t}},h=function(t){return{type:d,payload:t}},v=function(t){return{type:j,payload:t}},g=function(t){return{type:b,payload:t}},T=function(t){return{type:p,payload:t}},x=function(t){return{type:f,payload:t}},y={todos:[],visibleTodos:[],completedTodos:[],newTodo:"",activeFilter:"all",editingId:0,initialTitle:[]},_=Object(r.a)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:return Object(l.a)(Object(l.a)({},t),{},{todos:Object(a.a)(e.payload)});case s:return Object(l.a)(Object(l.a)({},t),{},{visibleTodos:Object(a.a)(e.payload)});case d:return Object(l.a)(Object(l.a)({},t),{},{completedTodos:Object(a.a)(e.payload)});case j:return Object(l.a)(Object(l.a)({},t),{},{newTodo:e.payload});case b:return Object(l.a)(Object(l.a)({},t),{},{activeFilter:e.payload});case p:return Object(l.a)(Object(l.a)({},t),{},{editingId:e.payload});case f:return Object(l.a)(Object(l.a)({},t),{},{initialTitle:Object(a.a)(e.payload)});default:return t}})),N=n(5),E=n.n(N),k=n(0),I=function(t){return t.todos},C=function(t){return t.visibleTodos},S=function(t){return t.completedTodos},D=function(t){return t.newTodo},w=function(t){return t.activeFilter},F=function(t){return t.editingId},L=function(t){return t.initialTitle},A=n(1),B=function(t){var e=t.listTodo,n=t.completedTodos,c=t.todos,o=Object(i.b)(),r=Object(i.c)(F),u=Object(i.c)(L),s=function(t,e){var n=Object(l.a)(Object(l.a)({},t),{},{title:e});o(O(Object(a.a)(c.map((function(t){return t.id===n.id?n:t})))))};return Object(A.jsxs)("li",{className:E()("main__item","todo",{completed:n.includes(e.id)},{editing:r===e.id}),children:[Object(A.jsxs)("div",{className:"view",children:[Object(A.jsx)("input",{type:"checkbox",className:"toggle",id:"".concat(e.id),onChange:function(t){return function(t,e){t.target.checked?o(h([].concat(Object(a.a)(n),[e]))):o(h(n.filter((function(t){return t!==e}))))}(t,e.id)}}),Object(A.jsx)("span",{className:"todo__text",onDoubleClick:function(){return o(T(e.id))},children:e.title}),Object(A.jsx)("button",{type:"button",className:"destroy",onClick:function(){return t=e.id,o(O(c.filter((function(e){return e.id!==t})))),void o(h(n.filter((function(e){return e!==t}))));var t},children:Object(A.jsx)("div",{className:"destroy-icon"})})]}),Object(A.jsx)("input",{type:"text",className:"todoapp__input edit",value:e.title,onChange:function(t){return function(t,e){0===u.length&&o(x([e.title])),s(e,t.target.value)}(t,e)},onKeyDown:function(t){return function(t,e){"Enter"===t.key&&t.target.blur(),"Escape"===t.key&&(s(e,u[0]),o(x([])),t.target.blur())}(t,e)},onBlur:function(t){return function(t){o(T(0)),o(x([])),0===t.target.value.length&&o(O(c.filter((function(e){return e.title!==t.target.value}))))}(t)}})]},e.id)},J=function(t){var e=t.completedTodos,n=t.todos,c=t.visibleTodos;return Object(A.jsx)("ul",{className:"main__list",children:c.map((function(t){return Object(A.jsx)(B,{listTodo:t,todos:n,completedTodos:e})}))})},M=function(t){var e=t.activeFilter,n=t.filter;return Object(A.jsxs)("ul",{className:"filters",children:[Object(A.jsx)("li",{children:Object(A.jsx)("button",{type:"button",className:E()("",{selected:"all"===e}),onClick:function(){return n.all()},children:"All"})},"all"),Object(A.jsx)("li",{children:Object(A.jsx)("button",{type:"button",className:E()("",{selected:"active"===e}),onClick:function(){return n.active()},children:"Active"})},"active"),Object(A.jsx)("li",{children:Object(A.jsx)("button",{type:"button",className:E()("",{selected:"completed"===e}),onClick:function(){return n.completed()},children:"Completed"})},"completed")]})},V=function(){var t=Object(i.b)(),e=Object(i.c)(I),n=Object(i.c)(C),c=Object(i.c)(S),o=Object(i.c)(D),l=Object(i.c)(w),r={all:function(){t(m(e)),t(g("all"))},active:function(){t(m(e.filter((function(t){return!c.includes(t.id)})))),t(g("active"))},completed:function(){t(m(e.filter((function(t){return c.includes(t.id)})))),t(g("completed"))}};return Object(k.useEffect)((function(){"all"===l?r.all():"active"===l?r.active():r.completed()}),[e]),Object(A.jsxs)("section",{className:"todoapp",children:[Object(A.jsxs)("header",{className:"header",children:[Object(A.jsx)("h1",{className:"todoapp__title",children:"todos"}),Object(A.jsx)("form",{onSubmit:function(n){return function(n){n.preventDefault();var c={id:Math.random(),title:o,completed:!1};t(O([].concat(Object(a.a)(e),[c]))),t(v(""))}(n)},children:Object(A.jsx)("input",{type:"text",className:"todoapp__input new-todo",placeholder:"What needs to be done?",value:o,onChange:function(e){return t(v(e.target.value))}})})]}),Object(A.jsxs)("section",{className:"main",children:[Object(A.jsxs)("label",{htmlFor:"toggle-all",className:"main__toggle-label",children:[Object(A.jsx)("input",{type:"checkbox",id:"toggle-all",className:"main__toggle-check",onChange:function(n){return function(n){n.target.checked&&t(h(e.map((function(t){return t.id})))),n.target.checked||t(h([]))}(n)}}),Object(A.jsx)("div",{className:E()("main__toggle-button",{checked:e.length===c.length})})]}),Object(A.jsx)(J,{todos:e,visibleTodos:n,completedTodos:c})]}),Object(A.jsxs)("footer",{className:"footer",children:[Object(A.jsx)("span",{className:"todo-count",children:"".concat(e.length-c.length," items left")}),Object(A.jsx)(M,{filter:r,activeFilter:l}),Object(A.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){var n=e.filter((function(t){return!c.includes(t.id)}));t(O(n)),t(h(c.filter((function(t){return n.some((function(e){return e.id===t}))}))))},children:"Clear completed"})]})]})};o.a.render(Object(A.jsx)(i.a,{store:_,children:Object(A.jsx)(V,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.5987442b.chunk.js.map